import { useState } from 'react'
import { Search, MoreVert } from '@material-ui/icons'
import {
  Box,
  AppBar,
  Toolbar,
  Container,
  Image,
  Tooltip,
  IconButton,
  ClickAwayListener
} from 'src/components/atoms'
import { logo } from 'src/images'

import { Meta, Story, Preview } from '@storybook/addon-docs/blocks'

<Meta title="Components/atoms/AppBar" component={AppBar} />

# AppBar

This component was created from AppBar of [@material-ui](https://material-ui.com).

[AppBar API](https://material-ui.com/api/app-bar)

We also use the following additional props from [@material-ui/system/basics](https://material-ui.com/system/basics):

[Pallete API](https://material-ui.com/system/pallete)

[CSS](https://material-ui.com/system/basics/#css-property)

<Preview>
  <Story name="appBar">
    {() => {
      const [searchBox, setSearchBox] = useState(false)
      const handleClickAway = () => {
        setSearchBox(false)
      }
      return (
        <ClickAwayListener onClickAway={handleClickAway}>
          <Box mb={{ xs: 10, sm: 11 }}>
            <AppBar
              position="static"
              bgcolor={searchBox && 'secondary.main'}
              css={{ transition: 'background-color 0.5s linear' }}
            >
              <Toolbar disableGutters>
                <Container
                  maxWidth="md"
                  display="flex"
                  justifyContent="space-between"
                  alignItems="center"
                >
                  <Image src={logo} alt="Logo" height={{ xs: 32, sm: 40 }} />
                  <Box display="flex">
                    <Tooltip title="Search">
                      <IconButton onClick={() => setSearchBox(!searchBox)}>
                        <Search />
                      </IconButton>
                    </Tooltip>
                    <Tooltip title="Menu">
                      <IconButton>
                        <MoreVert />
                      </IconButton>
                    </Tooltip>
                  </Box>
                </Container>
              </Toolbar>
            </AppBar>
          </Box>
        </ClickAwayListener>
      )
    }}
  </Story>
</Preview>

## Extra Props

| Name      | Description                                                                                                          | Default   |
| --------- | -------------------------------------------------------------------------------------------------------------------- | --------- |
| component | The component used for the root node. Either a string to use a HTML element or a component.                          | 'div'     |
| to        | Path to a new route (can only be used if the component is receving Link from react-router-dom in the component prop) | undefined |
